server:
  forward-headers-strategy: framework
spring:
  application:
    name: running-pacer
  ai:
    mcp:
      server:
        protocol: SSE
        name: running-pacer
        version: 1.0.0
        type: SYNC
        instructions: "Running Pacer MCP server provides running activity data and insights"
        resource-change-notification: true
        tool-change-notification: true
        prompt-change-notification: true
        sse:
          endpoint: /sse
          message-endpoint: /mcp/message
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID:dummy-client-id}
            client-secret: ${GOOGLE_CLIENT_SECRET:dummy-client-secret}
            scope: email, profile
            client-name: Google
      resourceserver:
        jwt:
          issuer-uri: ${OAUTH_ISSUER:http://localhost:8080}
  datasource:
    url: ${DATABASE_URL:jdbc:postgresql://localhost:5432/running_pacer}
    username: ${DB_USERNAME:pacer}
    password: ${DB_PASSWORD:pacer}
    driver-class-name: org.postgresql.Driver
  jpa:
    database-platform: org.hibernate.dialect.PostgreSQLDialect
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
  flyway:
    enabled: true
    baseline-on-migrate: true

app:
  base-url: ${APP_BASE_URL:${OAUTH_ISSUER:http://localhost:8080}}

oauth:
  issuer: ${OAUTH_ISSUER:http://localhost:8080}
  rsa:
    public-key: ${OAUTH_RSA_PUBLIC_KEY:}
    private-key: ${OAUTH_RSA_PRIVATE_KEY:}

strava:
  client-id: ${STRAVA_CLIENT_ID}
  client-secret: ${STRAVA_CLIENT_SECRET}
  webhook-verify-token: ${STRAVA_WEBHOOK_VERIFY_TOKEN}
  base-url: "https://www.strava.com"
  api-base-url: "https://www.strava.com/api/v3"
  redirect-uri: ${APP_BASE_URL}/oauth/strava/callback
